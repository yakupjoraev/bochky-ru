function fixedHeader(){const e=document.querySelector("header");window.scrollY>=1?e.classList.add("fixed__header"):e.classList.remove("fixed__header")}function thanksReviewsSlider(){if(!document.querySelector(".thanks-reviews"))return null;new Swiper(".thanks-reviews__slider",{slidesPerView:1,centeredSlides:!0,spaceBetween:10,loop:!0,navigation:{nextEl:".thanks-reviews__slider-arrow--next",prevEl:".thanks-reviews__slider-arrow--prev"},breakpoints:{320:{slidesPerView:1,spaceBetween:10},767:{slidesPerView:3,spaceBetween:20,centeredSlides:!1}}})}function videoReviewsSlider(){if(!document.querySelector(".video-reviews"))return null;new Swiper(".video-reviews__slider",{slidesPerView:1,spaceBetween:10,loop:!0,navigation:{nextEl:".video-reviews__slider-arrow--next",prevEl:".video-reviews__slider-arrow--prev"},pagination:{el:".video-reviews__slider-pagination"},breakpoints:{767:{slidesPerView:2,spaceBetween:20}}})}function exhibitionSamplesSlider(){if(!document.querySelector(".exhibition-samples__inner"))return null;new Swiper(".exhibition-samples__slider",{slidesPerView:1,spaceBetween:10,loop:!0,navigation:{nextEl:".exhibition-samples__arrow--next",prevEl:".exhibition-samples__arrow--prev"}})}function heroMargin(){const e=document.querySelector(".hero");if(!e)return null;const t=document.querySelector(".header").offsetHeight;e.style.marginTop=`-${t}px`}function heroSlider(){if(!document.querySelector(".hero"))return null;new Swiper(".hero__slider",{slidesPerView:1,spaceBetween:10,cssMode:!0,loop:!0,navigation:{nextEl:".hero__slider-arrow--next",prevEl:".hero__slider-arrow--prev"}})}function modelsMore(){if(!document.querySelector(".case"))return null;document.querySelector(".case__sliders-more").addEventListener("click",(()=>{document.querySelector(".case__sliders").classList.add("more")}))}document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll('a[href*="#"]');for(let t of e)t.addEventListener("click",(function(e){e.preventDefault();const o=t.getAttribute("href").substr(1),n=document.getElementById(o);n&&n.scrollIntoView({behavior:"smooth",block:"start"})}))})),window.addEventListener("scroll",fixedHeader),document.addEventListener("click",(function(e){if(e.target.hasAttribute("data-video-pic")){var t=e.target.getAttribute("data-iframe"),o=document.createElement("div");o.innerHTML=t;var n=e.target.parentNode.querySelector("iframe");n&&n.parentNode.removeChild(n),e.target.style.display="none",e.target.parentElement.classList.add("active"),e.target.parentNode.appendChild(o.firstChild)}})),thanksReviewsSlider(),videoReviewsSlider(),exhibitionSamplesSlider(),heroMargin(),heroSlider(),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".slider").forEach((function(e){const t=e.getAttribute("data-slider-container");console.log(t),new Swiper(e,{spaceBetween:10,slidesPerView:1,navigation:{nextEl:`[data-slider-next="${t}"]`,prevEl:`[data-slider-prev="${t}"]`}})}))})),modelsMore();const accordionItems=document.querySelectorAll("[data-accordion-item]");let tooltipElem,openAccordion=null;function toggleAccordion(){if(openAccordion&&openAccordion!==this){openAccordion.classList.remove("active");const e=openAccordion.nextElementSibling;e&&(e.style.maxHeight=null)}this.classList.toggle("active");const e=this.nextElementSibling;e&&(e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight=e.scrollHeight+"px"),openAccordion=this}function map(){if(!document.querySelector(".exhibition-samples__map"))return null;let e=[[55.786225,37.248134],[55.779502,37.855675],[55.6183,37.4711]];ymaps.ready((function(){let t=new ymaps.Map("exhibition-samples-map",{center:[55.751244,37.618423],zoom:9});e.forEach((e=>{let o=new ymaps.Placemark(e,{},{iconLayout:"default#image",iconImageHref:"./img/pin.svg",iconImageSize:[42,42],iconImageOffset:[-14,-64]});t.geoObjects.add(o)})),t.controls.remove("geolocationControl"),t.controls.remove("searchControl"),t.controls.remove("trafficControl"),t.controls.remove("typeSelector"),t.controls.remove("fullscreenControl"),t.controls.remove("zoomControl"),t.controls.remove("rulerControl")}))}function updateDate(){var e=document.getElementById("current-date");if(!e)return null;var t=new Date,o=t.getDate(),n=t.getMonth()+1,r=(o<10?"0":"")+o+"."+(n<10?"0":"")+n+"."+t.getFullYear();e.textContent=r}function phoneMask(){if(!document.querySelector(".modal-form"))return null;document.querySelectorAll(".js-input-phone").forEach((e=>{IMask(e,{mask:[{mask:"+{7}(000)000-00-00",startsWith:"7",prepare:e=>"8"===e[0]?e.slice(1):e},{mask:"8(000)000-00-00",startsWith:"8"}]})}))}accordionItems.forEach((e=>e.addEventListener("click",toggleAccordion))),map(),updateDate(),setInterval(updateDate,864e5),document.onmouseover=function(e){let t=e.target,o=t.dataset.tooltip;if(!o)return;tooltipElem=document.createElement("div"),tooltipElem.className="tooltip",tooltipElem.innerHTML=o,document.body.append(tooltipElem);let n=t.getBoundingClientRect(),r=n.left+(t.offsetWidth-tooltipElem.offsetWidth)/2;r<0&&(r=0);let l=n.top-tooltipElem.offsetHeight-5;l<0&&(l=n.top+t.offsetHeight+5),tooltipElem.style.left=r+"px",tooltipElem.style.top=l+"px"},document.onmouseout=function(e){tooltipElem&&(tooltipElem.remove(),tooltipElem=null)},document.addEventListener("scroll",(()=>{tooltipElem&&(tooltipElem.remove(),tooltipElem=null)})),phoneMask();let forms=document.querySelectorAll(".modal-form");forms.forEach((e=>{let t=e.querySelectorAll(".js-input"),o=e.querySelector(".js-input-phone");function n(e,t){return!!e.classList.contains(t)||!!e.parentElement&&n(e.parentElement,t)}e.onsubmit=function(){if(!n(e,"show"))return!0;let r=o.value,l=Array.from(t).filter((e=>""===e.value));return t.forEach((function(e){""===e.value?(e.classList.add("error"),console.log("input not filled")):e.classList.remove("error")})),0!==l.length?(console.log("inputs not filled"),!1):/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,10}$/.test(String(r))?void o.classList.remove("error"):(console.log("phone not valid"),o.classList.add("error"),!1)}}));const openModalBtns=document.querySelectorAll(".open-modal-btn"),closeModalBtns=document.querySelectorAll(".close-modal-btn"),modals=document.querySelectorAll(".modal");function openModal(e){modals.forEach((e=>{e.classList.remove("show")}));document.getElementById(e).classList.add("show")}openModalBtns.forEach((e=>{e.addEventListener("click",(()=>{openModal(e.dataset.modalId)}))})),closeModalBtns.forEach((e=>{e.addEventListener("click",(()=>{e.closest(".modal").classList.remove("show")}))})),window.addEventListener("click",(e=>{e.target.classList.contains("modal")&&e.target.classList.remove("show")})),Fancybox.bind("[data-fancybox]",{}),document.addEventListener("DOMContentLoaded",(function(){var e=()=>{var e=document.querySelectorAll("iframe");Array.prototype.forEach.call(e,(e=>{e.contentWindow.postMessage(JSON.stringify({event:"command",func:"stopVideo"}),"*")}))};document.querySelector(".close-modal-btn").onclick=function(){e()},document.addEventListener("click",(function(t){var o=document.querySelector(".modal");t.target===o||o.contains(t.target)||e()}))}));